<!DOCTYPE html>
<html>
<head>
  <title>Factory.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../doc-style.css" />
  <script src="../doc-filelist.js"></script>
  <script>
    var relativeDir = "../", thisFile = "src/Factory.coffee", defaultSidebar = true;
  </script>
  <script src="../doc-script.js"></script>
  <link rel="stylesheet" href="../docker.css" />
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h2">
        <a href="#factory%20for%20object%20management">Factory for object management</a>
      </div>
      <div class="heading h2">
        <a href="#compose%20config">Compose Config</a>
      </div>
      <div class="heading h1">
        <a href="#constructor">Constructor</a>
      </div>
      <div class="heading h1">
        <a href="#-----------">-----------</a>
      </div>
      <div class="heading h1">
        <a href="#it%20only%20takes%20one%20argument%2C%20the%20base%20class%20implementation">It only takes one argument, the base class implementation</a>
      </div>
      <div class="heading h1">
        <a href="#to%20use%20as%20a%20default.%20it%20becomes%20the%20'base'%20type%2C%20you%20can%20extend.">to use as a default. It becomes the 'Base' type, you can extend.</a>
      </div>
      <div class="heading h1">
        <a href="#define">Define</a>
      </div>
      <div class="heading h1">
        <a href="#------">------</a>
      </div>
      <div class="heading h1">
        <a href="#use%20the%20define%20method%20to%20define%20a%20new%20type%20(constructor)%20in%20the">Use the define method to define a new type (constructor) in the</a>
      </div>
      <div class="heading h1">
        <a href="#factory.">factory.</a>
      </div>
      <div class="heading h1">
        <a href="#whendefined%20support.">whenDefined support.</a>
      </div>
      <div class="heading h1">
        <a href="#we%20borrow%20extend%20from%20backbone%20unless%20you%20brought%20your%20own.">we borrow extend from Backbone unless you brought your own.</a>
      </div>
      <div class="heading h1">
        <a href="#we%20will%20store%20an%20object%20instead%20of%20a%20function%20if%20that%20is%20what%20you%20need.">we will store an object instead of a function if that is what you need.</a>
      </div>
      <div class="heading h1">
        <a href="#tag%20support">tag support</a>
      </div>
      <div class="heading h1">
        <a href="#if%20you%20need%20to%20know%20when%20a%20type%20is%20defined%20you%20can%20listen%20to">if you need to know when a type is defined you can listen to</a>
      </div>
      <div class="heading h1">
        <a href="#the%20define%20event%20on%20the%20factory%20or%20ask%20using%20whendefined.">the define event on the factory or ask using whenDefined.</a>
      </div>
      <div class="heading h1">
        <a href="#has%20definition">Has Definition</a>
      </div>
      <div class="heading h1">
        <a href="#--------------">--------------</a>
      </div>
      <div class="heading h1">
        <a href="#find%20out%20if%20the%20factory%20already%20has%20a%20definition%20by%20name.">Find out if the factory already has a definition by name.</a>
      </div>
      <div class="heading h1">
        <a href="#when%20defined">When Defined</a>
      </div>
      <div class="heading h1">
        <a href="#------------">------------</a>
      </div>
      <div class="heading h1">
        <a href="#find%20out%20when%20a%20definition%20has%20been%20loaded%20into%20the%20factory">Find out when a definition has been loaded into the factory</a>
      </div>
      <div class="heading h1">
        <a href="#by%20name.%20this%20returns%20a%20jquery%20promise%20object.">by name. This returns a jQuery promise object.</a>
      </div>
      <div class="heading h1">
        <a href="#----------------">----------------</a>
      </div>
      <div class="heading h1">
        <a href="#fetch%20a%20definition%20from%20the%20server%20and%20callback%20when%20done">Fetch a definition from the server and callback when done</a>
      </div>
      <div class="heading h1">
        <a href="#warning!%20this%20will%20not%20work%20with%20jquery%20or%20other%20polymorphic">WARNING! this will not work with jquery or other polymorphic</a>
      </div>
      <div class="heading h1">
        <a href="#function%20api's.%20it%20does%20expect%20functions%20to%20be%20constructors!">function API's. It does expect functions to be constructors!</a>
      </div>
      <div class="heading h1">
        <a href="#just%20in%20case%20the%20module%20is%20not%20setup%20to%20use%20the%20factory">Just in case the module is not setup to use the factory</a>
      </div>
      <div class="heading h1">
        <a href="#this%20will%20get%20ignored%20if%20the%20module%20defines%20itself%20in%20the">this will get ignored if the module defines itself in the</a>
      </div>
      <div class="heading h1">
        <a href="#factory.">factory.</a>
      </div>
      <div class="heading h1">
        <a href="#extend">Extend</a>
      </div>
      <div class="heading h1">
        <a href="#------">------</a>
      </div>
      <div class="heading h1">
        <a href="#use%20extend%20to%20define%20a%20new%20type%20that%20extends%20another%20type%20in%20the">Use extend to define a new type that extends another type in the</a>
      </div>
      <div class="heading h1">
        <a href="#factory.%20it%20basically%20uses%20backbone.model%20extend%20unless%20you%20provide">factory. It basically uses Backbone.Model extend unless you provide</a>
      </div>
      <div class="heading h1">
        <a href="#your%20own.">your own.</a>
      </div>
      <div class="heading h1">
        <a href="#clone">Clone</a>
      </div>
      <div class="heading h1">
        <a href="#-----">-----</a>
      </div>
      <div class="heading h1">
        <a href="#this%20can%20be%20used%20to%20add%20the%20definitions%20from%20one%20factory%20to%20another.">This can be used to add the definitions from one factory to another.</a>
      </div>
      <div class="heading h1">
        <a href="#use%20it%20by%20creating%20your%20new%20clean%20factory%20and%20call%20clone%20passing%20in">Use it by creating your new clean factory and call clone passing in</a>
      </div>
      <div class="heading h1">
        <a href="#the%20factory%20whose%20definitions%20you%20want%20to%20include.">the factory whose definitions you want to include.</a>
      </div>
      <div class="heading h1">
        <a href="#------">------</a>
      </div>
      <div class="heading h1">
        <a href="#this%20is%20a%20wrapper%20for%20clone%20that%20keeps%20this%20factory%20synced%20with%20the">This is a wrapper for clone that keeps this factory synced with the</a>
      </div>
      <div class="heading h1">
        <a href="#cloned%20factory.%20useful%20for%20when%20you%20have%20need%20to%20clone%20a%20factory%20that">cloned factory. Useful for when you have need to clone a factory that</a>
      </div>
      <div class="heading h1">
        <a href="#has%20asynchronous%20definitions.">has asynchronous definitions.</a>
      </div>
      <div class="heading h1">
        <a href="#define%20mixin">Define Mixin</a>
      </div>
      <div class="heading h1">
        <a href="#------------">------------</a>
      </div>
      <div class="heading h1">
        <a href="#use%20definemixin%20to%20add%20mixin%20definitions%20to%20the%20factory.%20you%20can">Use defineMixin to add mixin definitions to the factory. You can</a>
      </div>
      <div class="heading h1">
        <a href="#use%20these%20definitions%20in%20the%20define%20and%20extend%20method%20by%20adding">use these definitions in the define and extend method by adding</a>
      </div>
      <div class="heading h1">
        <a href="#a%20mixins%20array%20option%20with%20the%20names%20of%20the%20mixins%20to%20include.">a mixins array option with the names of the mixins to include.</a>
      </div>
      <div class="heading h1">
        <a href="#compose%20mixin%20dependencies">Compose Mixin Dependencies</a>
      </div>
      <div class="heading h1">
        <a href="#--------------------------">--------------------------</a>
      </div>
      <div class="heading h1">
        <a href="#this%20allows%20to%20get%20all%20the%20mixin%20dependencies%20as%20a%20consolidated%20list">This allows to get all the mixin dependencies as a consolidated list</a>
      </div>
      <div class="heading h1">
        <a href="#in%20the%20order%20we%20are%20expecting.">in the order we are expecting.</a>
      </div>
      <div class="heading h1">
        <a href="#mixins%20is%20the%20top%20level%20mixins">mixins is the top level mixins</a>
      </div>
      <div class="heading h1">
        <a href="#apply%20mixin">Apply Mixin</a>
      </div>
      <div class="heading h1">
        <a href="#-----------">-----------</a>
      </div>
      <div class="heading h1">
        <a href="#apply%20a%20mixin%20by%20name%20to%20an%20object.%20options%20that%20are%20on%20the%20object">Apply a mixin by name to an object. Options that are on the object</a>
      </div>
      <div class="heading h1">
        <a href="#will%20be%20supported%20by%20passed%20in%20defaults%20then%20by%20mixin%20defaults.%20will">will be supported by passed in defaults then by mixin defaults. Will</a>
      </div>
      <div class="heading h1">
        <a href="#invoke%20mixinitialize%20and%20empty%20mixinitialize%20method%20after%20invocation.">invoke mixinitialize and empty mixinitialize method after invocation.</a>
      </div>
      <div class="heading h1">
        <a href="#mixinitialize">Mixinitialize</a>
      </div>
      <div class="heading h1">
        <a href="#-------------">-------------</a>
      </div>
      <div class="heading h1">
        <a href="#invoke%20the%20mixin's%20mixinitialize%20method%20on%20the%20instance%2C%20if%20it%20exists.">Invoke the mixin's mixinitialize method on the instance, if it exists.</a>
      </div>
      <div class="heading h1">
        <a href="#this%20is%20done%20after%20the%20mixin's%20options%20are%20composed%20and%20its%20methods">This is done after the mixin's options are composed and its methods</a>
      </div>
      <div class="heading h1">
        <a href="#applied%20so%20that%20the%20instance%20is%20fully%20composed.">applied so that the instance is fully composed.</a>
      </div>
      <div class="heading h1">
        <a href="#handle%20mixins">Handle Mixins</a>
      </div>
      <div class="heading h1">
        <a href="#-------------">-------------</a>
      </div>
      <div class="heading h1">
        <a href="#gets%20called%20when%20an%20object%20is%20created%20to%20mixin%20anything%20you%20said">Gets called when an object is created to mixin anything you said</a>
      </div>
      <div class="heading h1">
        <a href="#to%20include%20in%20the%20definition.%20if%20the%20mixin%20defines%20a%20mixinitialize">to include in the definition. If the mixin defines a mixinitialize</a>
      </div>
      <div class="heading h1">
        <a href="#method%20it%20will%20get%20called%20after%20initialize%20and%20before%20constructed.">method it will get called after initialize and before constructed.</a>
      </div>
      <div class="heading h1">
        <a href="#clone%20the%20instance's%20mixinoptions%20to%20avoid%20overwriting%20the%20defaults">clone the instance's mixinOptions to avoid overwriting the defaults</a>
      </div>
      <div class="heading h1">
        <a href="#iterate%20over%20all%20of%20our%20resolved%20mixins%2C%20applying%20their%20implementation">Iterate over all of our resolved mixins, applying their implementation</a>
      </div>
      <div class="heading h1">
        <a href="#to%20the%20current%20instance.">to the current instance.</a>
      </div>
      <div class="heading h1">
        <a href="#because%20it%20considers%20instance.mixinoptions%20to%20be%20canonical">Because it considers instance.mixinOptions to be canonical</a>
      </div>
      <div class="heading h1">
        <a href="#this%20needs%20to%20execute%20in%20reverse%20order%20so%20higher%20level%20mixins">this needs to execute in reverse order so higher level mixins</a>
      </div>
      <div class="heading h1">
        <a href="#take%20configuration%20precedence.">take configuration precedence.</a>
      </div>
      <div class="heading h1">
        <a href="#complete%20the%20composition%20of%20the%20mixinoptions%20object%20by">Complete the composition of the mixinOptions object by</a>
      </div>
      <div class="heading h1">
        <a href="#extending%20a%20bare%20object%20with%20mixindefaults.">extending a bare object with mixinDefaults.</a>
      </div>
      <div class="heading h1">
        <a href="#invoke%20the%20mixin's%20mixconfig%20method%20if%20available%2C%20passing%20through">Invoke the mixin's mixconfig method if available, passing through</a>
      </div>
      <div class="heading h1">
        <a href="#the%20mixinoptions%20object%20so%20that%20it%20can%20be%20modified%20by%20reference.">the mixinOptions object so that it can be modified by reference.</a>
      </div>
      <div class="heading h1">
        <a href="#finally%2C%20ensure%20the%20mixin(s)%20get%20initialized">Finally, ensure the mixin(s) get initialized</a>
      </div>
      <div class="heading h1">
        <a href="#handle%20injections">Handle Injections</a>
      </div>
      <div class="heading h1">
        <a href="#-----------------">-----------------</a>
      </div>
      <div class="heading h1">
        <a href="#gets%20called%20then%20an%20object%20is%20created%20to%20add%20anything%20you%20said">Gets called then an object is created to add anything you said</a>
      </div>
      <div class="heading h1">
        <a href="#to%20include%20in%20the%20definition.">to include in the definition.</a>
      </div>
      <div class="heading h1">
        <a href="#handle%20create">Handle Create</a>
      </div>
      <div class="heading h1">
        <a href="#-------------">-------------</a>
      </div>
      <div class="heading h1">
        <a href="#gets%20called%20when%20an%20object%20is%20created%20to%20handle%20any%20events%20based">Gets called when an object is created to handle any events based</a>
      </div>
      <div class="heading h1">
        <a href="#on%20tags.%20this%20is%20the%20engine%20for%20doing%20aop%20style%20dependency%20injection.">on tags. This is the engine for doing AOP style Dependency Injection.</a>
      </div>
      <div class="heading h1">
        <a href="#handle%20tags">Handle Tags</a>
      </div>
      <div class="heading h1">
        <a href="#-----------">-----------</a>
      </div>
      <div class="heading h1">
        <a href="#gets%20called%20when%20an%20object%20is%20created%20to%20wire%20the%20instance%20up%20with">Gets called when an object is created to wire the instance up with</a>
      </div>
      <div class="heading h1">
        <a href="#all%20of%20it's%20tags.%20any%20type%20that%20the%20object%20inherits%20from%2C%20any%20of%20those">all of it's tags. Any type that the object inherits from, any of those</a>
      </div>
      <div class="heading h1">
        <a href="#types%20tags%20and%20any%20user%20defined%20tags%20are%20put%20into%20this%20list%20for%20use.">types tags and any user defined tags are put into this list for use.</a>
      </div>
      <div class="heading h1">
        <a href="#get">Get</a>
      </div>
      <div class="heading h1">
        <a href="#---">---</a>
      </div>
      <div class="heading h1">
        <a href="#call%20this%20with%20the%20name%20of%20the%20object%20type%20you%20want%20to%20get.%20you%20will">Call this with the name of the object type you want to get. You will</a>
      </div>
      <div class="heading h1">
        <a href="#definitely%20get%20that%20kind%20of%20object%20back.%20this%20is%20a%20pretty%20big%20function">definitely get that kind of object back. This is a pretty big function</a>
      </div>
      <div class="heading h1">
        <a href="#but%20it's%20just%20generally%20making%20decisions%20about%20the%20options%20you%20defined">but it's just generally making decisions about the options you defined</a>
      </div>
      <div class="heading h1">
        <a href="#earlier.">earlier.</a>
      </div>
      <div class="heading h1">
        <a href="#singleton%20support">singleton support</a>
      </div>
      <div class="heading h1">
        <a href="#arbitrary%20arguments%20length%20on%20the%20constructor">arbitrary arguments length on the constructor</a>
      </div>
      <div class="heading h1">
        <a href="#set%20the%20type%2Ftags%2Fmixins%20immediately">Set the type/tags/mixins immediately</a>
      </div>
      <div class="heading h1">
        <a href="#set%20the%20constructor%20of%20the%20instance%20to%20one%20that's%20factory%20wrapped">Set the constructor of the instance to one that's factory wrapped</a>
      </div>
      <div class="heading h1">
        <a href="#mixin%20support">mixin support</a>
      </div>
      <div class="heading h1">
        <a href="#injection%20support">injection support</a>
      </div>
      <div class="heading h1">
        <a href="#tag%20support">tag support</a>
      </div>
      <div class="heading h1">
        <a href="#late%20initialization%20support">late initialization support</a>
      </div>
      <div class="heading h1">
        <a href="#we%20shortcut%20the%20dispose%20functionality%20so%20we%20can%20wire%20it%20into%20other">we shortcut the dispose functionality so we can wire it into other</a>
      </div>
      <div class="heading h1">
        <a href="#frameworks%20and%20stuff%20easily">frameworks and stuff easily</a>
      </div>
      <div class="heading h1">
        <a href="#we%20trigger%20a%20create%20event%20on%20the%20factory%20so%20we%20can%20handle%20tag%20listeners">we trigger a create event on the factory so we can handle tag listeners</a>
      </div>
      <div class="heading h1">
        <a href="#but%20the%20user%20can%20use%20this%20for%20other%20purposes%20as%20well.">but the user can use this for other purposes as well.</a>
      </div>
      <div class="heading h3">
        <a href="#resolve%20instance">Resolve Instance</a>
      </div>
      <div class="heading h1">
        <a href="#provide%20a%20method%20for%20resolving%20an%20instance%20via%20a%20callback%20or">Provide a method for resolving an instance via a callback or</a>
      </div>
      <div class="heading h1">
        <a href="#by%20resolving%20an%20instance%20in%20the%20factory.">by resolving an instance in the factory.</a>
      </div>
      <div class="heading h2">
        <a href="#get%20tags">Get Tags</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
<div class="pilwrap" id="factory%20for%20object%20management">
  <h2>
    <a href="#factory%20for%20object%20management" name="factory%20for%20object%20management" class="pilcrow">&#182;</a>
    Factory for object management
  </h2>
</div>


<p>Use require, this depends on underscore, jquery and backbone.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="nx">define</span> <span class="p">[</span>
  <span class="s">&quot;underscore&quot;</span><span class="p">,</span>
  <span class="s">&quot;jquery&quot;</span><span class="p">,</span>
  <span class="s">&quot;backbone&quot;</span>
<span class="p">],</span> <span class="nf">(_, $, Backbone) -&gt;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>Factory objects can</p>

<ul>
<li>hold type definitions</li>
<li>return objects of those types</li>
<li>hold mixin definitions</li>
<li>mixin those mixins to defined objects of types</li>
<li>return singleton type definitions</li>
<li>extend existing definitions</li>
<li>tag objects with types and other metadata</li>
<li>retrieve and manipulate objects by tag</li>
<li>dispose of objects</li>
<li>inject objects onto keys of other objects by name</li>
</ul>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

  <span class="k">class</span> <span class="nx">Factory</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">extend</span> <span class="nx">@prototype</span><span class="p">,</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">Events</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>Provide a utility for shallow extension of the mixinOptions object.
This method only supports certain primitives for extension by design.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="nv">extendMixinOptions = </span><span class="nf">(mixinOptions = {}, mixinDefaults = {}) -&gt;</span>
      <span class="k">for</span> <span class="nx">option</span><span class="p">,</span> <span class="nx">defaultValue</span> <span class="k">of</span> <span class="nx">mixinDefaults</span>
        <span class="nv">value = </span><span class="nx">mixinOptions</span><span class="p">[</span><span class="nx">option</span><span class="p">]</span> <span class="o">?=</span> <span class="nx">defaultValue</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>Don't do anything if either value is not an object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="nv">isObject = </span><span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span>
        <span class="k">continue</span> <span class="k">unless</span> <span class="nx">isObject</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>Don't do anything if either object is a type we don't support</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">continue</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isDate</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isDate</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span> <span class="o">or</span>
        <span class="nx">_</span><span class="p">.</span><span class="nx">isElement</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isElement</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span> <span class="o">or</span>
        <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span> <span class="o">or</span>
        <span class="nx">_</span><span class="p">.</span><span class="nx">isRegExp</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isRegExp</span><span class="p">(</span><span class="nx">defaultValue</span><span class="p">)</span>

        <span class="nx">mixinOptions</span><span class="p">[</span><span class="nx">option</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Factory</span><span class="p">.</span><span class="nx">composeConfig</span> <span class="nx">defaultValue</span><span class="p">,</span> <span class="nx">value</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="compose%20config">
  <h2>
    <a href="#compose%20config" name="compose%20config" class="pilcrow">&#182;</a>
    Compose Config
  </h2>
</div>


<p>composeConfig allows mixed object/function combinations to be
resolvable to configuration objects/arrays, etc.
Arrays are concatenated, objects are extended.
Constructor configurations are the responsibility of mixins.</p>

<div class="dox">
  <div class="summary"><p>composeConfig = (defaultConfig, overrideConfig, args...) ->
if _.isFunction defaultConfig
defaultConfig = defaultConfig.apply this, args
if _.isFunction overrideConfig
overrideConfig = overrideConfig.apply this, args
return _.clone(defaultConfig) unless overrideConfig?
return if _.isArray(defaultConfig) and _.isArray(overrideConfig)
then [].concat defaultConfig, overrideConfig
else _.extend {}, defaultConfig, overrideConfig</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">composeConfig:</div>
    <div class="dox_tag_detail">
      <span>(defaults, overrides...) ->
return _.reduce overrides, ((defaults, override) ->
return if _.isFunction(defaults) or _.isFunction(override)
then -> composeConfig.call this, defaults, override, arguments...
else composeConfig defaults, override
), defaults


<div class="pilwrap" id="constructor_NaN">
  <h1>
    <a href="#constructor_NaN" name="constructor_NaN" class="pilcrow">&#182;</a>
    Constructor
  </h1>
</div>



<div class="pilwrap" id="-----------">
  <h1>
    <a href="#-----------" name="-----------" class="pilcrow">&#182;</a>
    -----------
  </h1>
</div>



<div class="pilwrap" id="it%20only%20takes%20one%20argument%2C%20the%20base%20class%20implementation">
  <h1>
    <a href="#it%20only%20takes%20one%20argument%2C%20the%20base%20class%20implementation" name="it%20only%20takes%20one%20argument%2C%20the%20base%20class%20implementation" class="pilcrow">&#182;</a>
    It only takes one argument, the base class implementation
  </h1>
</div>



<div class="pilwrap" id="to%20use%20as%20a%20default.%20it%20becomes%20the%20'base'%20type%2C%20you%20can%20extend.">
  <h1>
    <a href="#to%20use%20as%20a%20default.%20it%20becomes%20the%20'base'%20type%2C%20you%20can%20extend." name="to%20use%20as%20a%20default.%20it%20becomes%20the%20'base'%20type%2C%20you%20can%20extend." class="pilcrow">&#182;</a>
    to use as a default. It becomes the 'Base' type, you can extend.
  </h1>
</div>


constructor: (Base, options = {}) -></span>
    </div>
    <div class="dox_tag_title">mixins</div>
    <div class="dox_tag_detail">
      <span>= {}</span>
    </div>
    <div class="dox_tag_title">tagCbs</div>
    <div class="dox_tag_detail">
      <span>= {}</span>
    </div>
    <div class="dox_tag_title">tagMap</div>
    <div class="dox_tag_detail">
      <span>= {}</span>
    </div>
    <div class="dox_tag_title">promises</div>
    <div class="dox_tag_detail">
      <span>= {}</span>
    </div>
    <div class="dox_tag_title">instances</div>
    <div class="dox_tag_detail">
      <span>= {}</span>
    </div>
    <div class="dox_tag_title">definitions</div>
    <div class="dox_tag_detail">
      <span>= {}</span>
    </div>
    <div class="dox_tag_title">define</div>
    <div class="dox_tag_detail">
      <span>'Base', Base</span>
    </div>
    <div class="dox_tag_title">baseTags</div>
    <div class="dox_tag_detail">
      <span>= options.baseTags || []</span>
    </div>
    <div class="dox_tag_title">on</div>
    <div class="dox_tag_detail">
      <span>'create', @handleCreate, this


<div class="pilwrap" id="define">
  <h1>
    <a href="#define" name="define" class="pilcrow">&#182;</a>
    Define
  </h1>
</div>



<div class="pilwrap" id="------">
  <h1>
    <a href="#------" name="------" class="pilcrow">&#182;</a>
    ------
  </h1>
</div>



<div class="pilwrap" id="use%20the%20define%20method%20to%20define%20a%20new%20type%20(constructor)%20in%20the">
  <h1>
    <a href="#use%20the%20define%20method%20to%20define%20a%20new%20type%20(constructor)%20in%20the" name="use%20the%20define%20method%20to%20define%20a%20new%20type%20(constructor)%20in%20the" class="pilcrow">&#182;</a>
    Use the define method to define a new type (constructor) in the
  </h1>
</div>



<div class="pilwrap" id="factory.">
  <h1>
    <a href="#factory." name="factory." class="pilcrow">&#182;</a>
    factory.
  </h1>
</div>


define: (name, def, options = {}) ->
if @definitions[name]? and not options.override
return this if options.silent
throw new TypeError """
Factory#define Definition "#{name}" already exists.
Use override option to ignore.
"""


<div class="pilwrap" id="whendefined%20support.">
  <h1>
    <a href="#whendefined%20support." name="whendefined%20support." class="pilcrow">&#182;</a>
    whenDefined support.
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">promises[name]</div>
    <div class="dox_tag_detail">
      <span>?= $.Deferred()
definition = { options }


<div class="pilwrap" id="we%20borrow%20extend%20from%20backbone%20unless%20you%20brought%20your%20own.">
  <h1>
    <a href="#we%20borrow%20extend%20from%20backbone%20unless%20you%20brought%20your%20own." name="we%20borrow%20extend%20from%20backbone%20unless%20you%20brought%20your%20own." class="pilcrow">&#182;</a>
    we borrow extend from Backbone unless you brought your own.
  </h1>
</div>


def.extend = Backbone.Model.extend unless _.isFunction(def.extend)


<div class="pilwrap" id="we%20will%20store%20an%20object%20instead%20of%20a%20function%20if%20that%20is%20what%20you%20need.">
  <h1>
    <a href="#we%20will%20store%20an%20object%20instead%20of%20a%20function%20if%20that%20is%20what%20you%20need." name="we%20will%20store%20an%20object%20instead%20of%20a%20function%20if%20that%20is%20what%20you%20need." class="pilcrow">&#182;</a>
    we will store an object instead of a function if that is what you need.
  </h1>
</div>


if <em>.isFunction(def)
definition.constructor = def
else
definition.constructor = -> _.clone(def)
definition.constructor.prototype.</em>_factory = => this


<div class="pilwrap" id="tag%20support">
  <h1>
    <a href="#tag%20support" name="tag%20support" class="pilcrow">&#182;</a>
    tag support
  </h1>
</div>


tags = [name].concat(options.tags).concat @baseTags
definition.tags = _.uniq(tags).filter (i) -> !!i</span>
    </div>
    <div class="dox_tag_title">instances[name]</div>
    <div class="dox_tag_detail">
      <span>= []
_.each definition.tags, (tag) =></span>
    </div>
    <div class="dox_tag_title">tagMap[tag]</div>
    <div class="dox_tag_detail">
      <span>= @tagMap[tag] or []</span>
    </div>
    <div class="dox_tag_title">tagCbs[tag]</div>
    <div class="dox_tag_detail">
      <span>= @tagCbs[tag] or []</span>
    </div>
    <div class="dox_tag_title">definitions[name]</div>
    <div class="dox_tag_detail">
      <span>= definition


<div class="pilwrap" id="if%20you%20need%20to%20know%20when%20a%20type%20is%20defined%20you%20can%20listen%20to">
  <h1>
    <a href="#if%20you%20need%20to%20know%20when%20a%20type%20is%20defined%20you%20can%20listen%20to" name="if%20you%20need%20to%20know%20when%20a%20type%20is%20defined%20you%20can%20listen%20to" class="pilcrow">&#182;</a>
    if you need to know when a type is defined you can listen to
  </h1>
</div>



<div class="pilwrap" id="the%20define%20event%20on%20the%20factory%20or%20ask%20using%20whendefined.">
  <h1>
    <a href="#the%20define%20event%20on%20the%20factory%20or%20ask%20using%20whendefined." name="the%20define%20event%20on%20the%20factory%20or%20ask%20using%20whendefined." class="pilcrow">&#182;</a>
    the define event on the factory or ask using whenDefined.
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">trigger</div>
    <div class="dox_tag_detail">
      <span>'define', name, definition, options</span>
    </div>
    <div class="dox_tag_title">promises[name].resolve(this,</div>
    <div class="dox_tag_detail">
      <span>name)
return this


<div class="pilwrap" id="has%20definition">
  <h1>
    <a href="#has%20definition" name="has%20definition" class="pilcrow">&#182;</a>
    Has Definition
  </h1>
</div>



<div class="pilwrap" id="--------------">
  <h1>
    <a href="#--------------" name="--------------" class="pilcrow">&#182;</a>
    --------------
  </h1>
</div>



<div class="pilwrap" id="find%20out%20if%20the%20factory%20already%20has%20a%20definition%20by%20name.">
  <h1>
    <a href="#find%20out%20if%20the%20factory%20already%20has%20a%20definition%20by%20name." name="find%20out%20if%20the%20factory%20already%20has%20a%20definition%20by%20name." class="pilcrow">&#182;</a>
    Find out if the factory already has a definition by name.
  </h1>
</div>


hasDefinition: (name) ->
!!@definitions[name]


<div class="pilwrap" id="when%20defined">
  <h1>
    <a href="#when%20defined" name="when%20defined" class="pilcrow">&#182;</a>
    When Defined
  </h1>
</div>



<div class="pilwrap" id="------------">
  <h1>
    <a href="#------------" name="------------" class="pilcrow">&#182;</a>
    ------------
  </h1>
</div>



<div class="pilwrap" id="find%20out%20when%20a%20definition%20has%20been%20loaded%20into%20the%20factory">
  <h1>
    <a href="#find%20out%20when%20a%20definition%20has%20been%20loaded%20into%20the%20factory" name="find%20out%20when%20a%20definition%20has%20been%20loaded%20into%20the%20factory" class="pilcrow">&#182;</a>
    Find out when a definition has been loaded into the factory
  </h1>
</div>



<div class="pilwrap" id="by%20name.%20this%20returns%20a%20jquery%20promise%20object.">
  <h1>
    <a href="#by%20name.%20this%20returns%20a%20jquery%20promise%20object." name="by%20name.%20this%20returns%20a%20jquery%20promise%20object." class="pilcrow">&#182;</a>
    by name. This returns a jQuery promise object.
  </h1>
</div>


whenDefined: (name) -></span>
    </div>
    <div class="dox_tag_title">promises[name]</div>
    <div class="dox_tag_detail">
      <span>?= $.Deferred()</span>
    </div>
    <div class="dox_tag_title">promises[name].promise()

#</div>
    <div class="dox_tag_detail">
      <span>Fetch Definition


<div class="pilwrap" id="----------------">
  <h1>
    <a href="#----------------" name="----------------" class="pilcrow">&#182;</a>
    ----------------
  </h1>
</div>



<div class="pilwrap" id="fetch%20a%20definition%20from%20the%20server%20and%20callback%20when%20done">
  <h1>
    <a href="#fetch%20a%20definition%20from%20the%20server%20and%20callback%20when%20done" name="fetch%20a%20definition%20from%20the%20server%20and%20callback%20when%20done" class="pilcrow">&#182;</a>
    Fetch a definition from the server and callback when done
  </h1>
</div>


#


<div class="pilwrap" id="warning!%20this%20will%20not%20work%20with%20jquery%20or%20other%20polymorphic">
  <h1>
    <a href="#warning!%20this%20will%20not%20work%20with%20jquery%20or%20other%20polymorphic" name="warning!%20this%20will%20not%20work%20with%20jquery%20or%20other%20polymorphic" class="pilcrow">&#182;</a>
    WARNING! this will not work with jquery or other polymorphic
  </h1>
</div>



<div class="pilwrap" id="function%20api's.%20it%20does%20expect%20functions%20to%20be%20constructors!">
  <h1>
    <a href="#function%20api's.%20it%20does%20expect%20functions%20to%20be%20constructors!" name="function%20api's.%20it%20does%20expect%20functions%20to%20be%20constructors!" class="pilcrow">&#182;</a>
    function API's. It does expect functions to be constructors!
  </h1>
</div>


fetchDefinition: (name) ->
dfd = @whenDefined(name)
require [name], (def) =>


<div class="pilwrap" id="just%20in%20case%20the%20module%20is%20not%20setup%20to%20use%20the%20factory">
  <h1>
    <a href="#just%20in%20case%20the%20module%20is%20not%20setup%20to%20use%20the%20factory" name="just%20in%20case%20the%20module%20is%20not%20setup%20to%20use%20the%20factory" class="pilcrow">&#182;</a>
    Just in case the module is not setup to use the factory
  </h1>
</div>



<div class="pilwrap" id="this%20will%20get%20ignored%20if%20the%20module%20defines%20itself%20in%20the">
  <h1>
    <a href="#this%20will%20get%20ignored%20if%20the%20module%20defines%20itself%20in%20the" name="this%20will%20get%20ignored%20if%20the%20module%20defines%20itself%20in%20the" class="pilcrow">&#182;</a>
    this will get ignored if the module defines itself in the
  </h1>
</div>



<div class="pilwrap" id="factory._1">
  <h1>
    <a href="#factory._1" name="factory._1" class="pilcrow">&#182;</a>
    factory.
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">define</div>
    <div class="dox_tag_detail">
      <span>name, def
return dfd


<div class="pilwrap" id="extend">
  <h1>
    <a href="#extend" name="extend" class="pilcrow">&#182;</a>
    Extend
  </h1>
</div>



<div class="pilwrap" id="------_1">
  <h1>
    <a href="#------_1" name="------_1" class="pilcrow">&#182;</a>
    ------
  </h1>
</div>



<div class="pilwrap" id="use%20extend%20to%20define%20a%20new%20type%20that%20extends%20another%20type%20in%20the">
  <h1>
    <a href="#use%20extend%20to%20define%20a%20new%20type%20that%20extends%20another%20type%20in%20the" name="use%20extend%20to%20define%20a%20new%20type%20that%20extends%20another%20type%20in%20the" class="pilcrow">&#182;</a>
    Use extend to define a new type that extends another type in the
  </h1>
</div>



<div class="pilwrap" id="factory.%20it%20basically%20uses%20backbone.model%20extend%20unless%20you%20provide">
  <h1>
    <a href="#factory.%20it%20basically%20uses%20backbone.model%20extend%20unless%20you%20provide" name="factory.%20it%20basically%20uses%20backbone.model%20extend%20unless%20you%20provide" class="pilcrow">&#182;</a>
    factory. It basically uses Backbone.Model extend unless you provide
  </h1>
</div>



<div class="pilwrap" id="your%20own.">
  <h1>
    <a href="#your%20own." name="your%20own." class="pilcrow">&#182;</a>
    your own.
  </h1>
</div>


extend: (base, name, definition, options = {}) ->
baseDefinition = @definitions[base]

throw new ReferenceError """
Factory#extend Base Class "#{base}" Not Available.
""" unless baseDefinition

throw new TypeError """
Factory#extend Invalid Argument.
<code>definition</code> must be an Object.
""" unless _.isObject definition

options.tags = _.chain([])
.union(options.tags)
.union(baseDefinition.tags)
.compact().value()

if options.inheritMixins
options.mixins = _.chain([])
.union(baseDefinition.options.mixins)
.union(options.mixins)
.compact().value()
mixinOptions = definition.mixinOptions
mixinDefaults = baseDefinition.constructor::mixinOptions
extendMixinOptions mixinOptions, mixinDefaults

if options.singleton?
then options.singleton = options.singleton
else options.singleton = baseDefinition.options.singleton

extendedDefinition = baseDefinition.constructor.extend definition
return @define name, extendedDefinition, options


<div class="pilwrap" id="clone">
  <h1>
    <a href="#clone" name="clone" class="pilcrow">&#182;</a>
    Clone
  </h1>
</div>



<div class="pilwrap" id="-----">
  <h1>
    <a href="#-----" name="-----" class="pilcrow">&#182;</a>
    -----
  </h1>
</div>



<div class="pilwrap" id="this%20can%20be%20used%20to%20add%20the%20definitions%20from%20one%20factory%20to%20another.">
  <h1>
    <a href="#this%20can%20be%20used%20to%20add%20the%20definitions%20from%20one%20factory%20to%20another." name="this%20can%20be%20used%20to%20add%20the%20definitions%20from%20one%20factory%20to%20another." class="pilcrow">&#182;</a>
    This can be used to add the definitions from one factory to another.
  </h1>
</div>



<div class="pilwrap" id="use%20it%20by%20creating%20your%20new%20clean%20factory%20and%20call%20clone%20passing%20in">
  <h1>
    <a href="#use%20it%20by%20creating%20your%20new%20clean%20factory%20and%20call%20clone%20passing%20in" name="use%20it%20by%20creating%20your%20new%20clean%20factory%20and%20call%20clone%20passing%20in" class="pilcrow">&#182;</a>
    Use it by creating your new clean factory and call clone passing in
  </h1>
</div>



<div class="pilwrap" id="the%20factory%20whose%20definitions%20you%20want%20to%20include.">
  <h1>
    <a href="#the%20factory%20whose%20definitions%20you%20want%20to%20include." name="the%20factory%20whose%20definitions%20you%20want%20to%20include." class="pilcrow">&#182;</a>
    the factory whose definitions you want to include.
  </h1>
</div>


clone: (factory) ->
throw new TypeError '''
Factory#clone Invalid Argument.
<code>factory</code> must be an instance of Factory.
''' unless factory instanceof Factory

singletonDefinitions = []

_.each ["definitions", "mixins", "promises"], (key) =>
_.defaults @[key], factory[key]
if key is 'definitions'
_.each @[key], (def, defname) =>
singletonDefinitions.push defname if def.options.singleton</span>
    </div>
    <div class="dox_tag_title">[key][defname].constructor.prototype.__factory</div>
    <div class="dox_tag_detail">
      <span>= => this

_.each ["tagCbs","tagMap","promises","instances"], (key) =></span>
    </div>
    <div class="dox_tag_title">[key]</div>
    <div class="dox_tag_detail">
      <span>?= {}
for name, payload of factory[key]
if key is 'instances' and name in singletonDefinitions
singleton = true
if _.isArray(payload)</span>
    </div>
    <div class="dox_tag_title">[key][name]</div>
    <div class="dox_tag_detail">
      <span>?= []
if singleton</span>
    </div>
    <div class="dox_tag_title">[key][name]</div>
    <div class="dox_tag_detail">
      <span>= @[key][name]
else</span>
    </div>
    <div class="dox_tag_title">[key][name]</div>
    <div class="dox_tag_detail">
      <span>= payload.concat(@[key][name])
if _.isFunction payload?.resolve</span>
    </div>
    <div class="dox_tag_title">[key][name]</div>
    <div class="dox_tag_detail">
      <span>?= $.Deferred()</span>
    </div>
    <div class="dox_tag_title">[key][name].done(payload.resolve)
#</div>
    <div class="dox_tag_detail">
      <span>Mirror


<div class="pilwrap" id="------_2">
  <h1>
    <a href="#------_2" name="------_2" class="pilcrow">&#182;</a>
    ------
  </h1>
</div>



<div class="pilwrap" id="this%20is%20a%20wrapper%20for%20clone%20that%20keeps%20this%20factory%20synced%20with%20the">
  <h1>
    <a href="#this%20is%20a%20wrapper%20for%20clone%20that%20keeps%20this%20factory%20synced%20with%20the" name="this%20is%20a%20wrapper%20for%20clone%20that%20keeps%20this%20factory%20synced%20with%20the" class="pilcrow">&#182;</a>
    This is a wrapper for clone that keeps this factory synced with the
  </h1>
</div>



<div class="pilwrap" id="cloned%20factory.%20useful%20for%20when%20you%20have%20need%20to%20clone%20a%20factory%20that">
  <h1>
    <a href="#cloned%20factory.%20useful%20for%20when%20you%20have%20need%20to%20clone%20a%20factory%20that" name="cloned%20factory.%20useful%20for%20when%20you%20have%20need%20to%20clone%20a%20factory%20that" class="pilcrow">&#182;</a>
    cloned factory. Useful for when you have need to clone a factory that
  </h1>
</div>



<div class="pilwrap" id="has%20asynchronous%20definitions.">
  <h1>
    <a href="#has%20asynchronous%20definitions." name="has%20asynchronous%20definitions." class="pilcrow">&#182;</a>
    has asynchronous definitions.
  </h1>
</div>


mirror: (factory) ->
factory.off 'create', factory.handleCreate
_.chain(this).methods().each (method) =>
factory[method] = =></span>
    </div>
    <div class="dox_tag_title">[method]</div>
    <div class="dox_tag_detail">
      <span>arguments...</span>
    </div>
    <div class="dox_tag_title">clone</div>
    <div class="dox_tag_detail">
      <span>factory
_.chain(factory).keys().each (key) ->
delete factory[key] unless _.isFunction(factory[key])


<div class="pilwrap" id="define%20mixin">
  <h1>
    <a href="#define%20mixin" name="define%20mixin" class="pilcrow">&#182;</a>
    Define Mixin
  </h1>
</div>



<div class="pilwrap" id="------------_1">
  <h1>
    <a href="#------------_1" name="------------_1" class="pilcrow">&#182;</a>
    ------------
  </h1>
</div>



<div class="pilwrap" id="use%20definemixin%20to%20add%20mixin%20definitions%20to%20the%20factory.%20you%20can">
  <h1>
    <a href="#use%20definemixin%20to%20add%20mixin%20definitions%20to%20the%20factory.%20you%20can" name="use%20definemixin%20to%20add%20mixin%20definitions%20to%20the%20factory.%20you%20can" class="pilcrow">&#182;</a>
    Use defineMixin to add mixin definitions to the factory. You can
  </h1>
</div>



<div class="pilwrap" id="use%20these%20definitions%20in%20the%20define%20and%20extend%20method%20by%20adding">
  <h1>
    <a href="#use%20these%20definitions%20in%20the%20define%20and%20extend%20method%20by%20adding" name="use%20these%20definitions%20in%20the%20define%20and%20extend%20method%20by%20adding" class="pilcrow">&#182;</a>
    use these definitions in the define and extend method by adding
  </h1>
</div>



<div class="pilwrap" id="a%20mixins%20array%20option%20with%20the%20names%20of%20the%20mixins%20to%20include.">
  <h1>
    <a href="#a%20mixins%20array%20option%20with%20the%20names%20of%20the%20mixins%20to%20include." name="a%20mixins%20array%20option%20with%20the%20names%20of%20the%20mixins%20to%20include." class="pilcrow">&#182;</a>
    a mixins array option with the names of the mixins to include.
  </h1>
</div>


defineMixin: (mixinName, definition, options = {}) ->
throw new TypeError """
Factory#defineMixin Mixin #{mixinName} already defined.
Use <code>override</code> option to ignore.
""" if @mixins[mixinName]? and not options.override</span>
    </div>
    <div class="dox_tag_title">mixins[mixinName]</div>
    <div class="dox_tag_detail">
      <span>= {definition, options}</span>
    </div>
    <div class="dox_tag_title">trigger</div>
    <div class="dox_tag_detail">
      <span>'defineMixin', mixinName, definition, options
return this


<div class="pilwrap" id="compose%20mixin%20dependencies">
  <h1>
    <a href="#compose%20mixin%20dependencies" name="compose%20mixin%20dependencies" class="pilcrow">&#182;</a>
    Compose Mixin Dependencies
  </h1>
</div>



<div class="pilwrap" id="--------------------------">
  <h1>
    <a href="#--------------------------" name="--------------------------" class="pilcrow">&#182;</a>
    --------------------------
  </h1>
</div>



<div class="pilwrap" id="this%20allows%20to%20get%20all%20the%20mixin%20dependencies%20as%20a%20consolidated%20list">
  <h1>
    <a href="#this%20allows%20to%20get%20all%20the%20mixin%20dependencies%20as%20a%20consolidated%20list" name="this%20allows%20to%20get%20all%20the%20mixin%20dependencies%20as%20a%20consolidated%20list" class="pilcrow">&#182;</a>
    This allows to get all the mixin dependencies as a consolidated list
  </h1>
</div>



<div class="pilwrap" id="in%20the%20order%20we%20are%20expecting.">
  <h1>
    <a href="#in%20the%20order%20we%20are%20expecting." name="in%20the%20order%20we%20are%20expecting." class="pilcrow">&#182;</a>
    in the order we are expecting.
  </h1>
</div>


composeMixinDependencies: (mixins = []) ->


<div class="pilwrap" id="mixins%20is%20the%20top%20level%20mixins">
  <h1>
    <a href="#mixins%20is%20the%20top%20level%20mixins" name="mixins%20is%20the%20top%20level%20mixins" class="pilcrow">&#182;</a>
    mixins is the top level mixins
  </h1>
</div>


result = []
for mixinName in mixins
{options} = @mixins[mixinName]
result = result.concat @composeMixinDependencies options.mixins
result.push mixinName
return _.uniq result


<div class="pilwrap" id="apply%20mixin">
  <h1>
    <a href="#apply%20mixin" name="apply%20mixin" class="pilcrow">&#182;</a>
    Apply Mixin
  </h1>
</div>



<div class="pilwrap" id="-----------_1">
  <h1>
    <a href="#-----------_1" name="-----------_1" class="pilcrow">&#182;</a>
    -----------
  </h1>
</div>



<div class="pilwrap" id="apply%20a%20mixin%20by%20name%20to%20an%20object.%20options%20that%20are%20on%20the%20object">
  <h1>
    <a href="#apply%20a%20mixin%20by%20name%20to%20an%20object.%20options%20that%20are%20on%20the%20object" name="apply%20a%20mixin%20by%20name%20to%20an%20object.%20options%20that%20are%20on%20the%20object" class="pilcrow">&#182;</a>
    Apply a mixin by name to an object. Options that are on the object
  </h1>
</div>



<div class="pilwrap" id="will%20be%20supported%20by%20passed%20in%20defaults%20then%20by%20mixin%20defaults.%20will">
  <h1>
    <a href="#will%20be%20supported%20by%20passed%20in%20defaults%20then%20by%20mixin%20defaults.%20will" name="will%20be%20supported%20by%20passed%20in%20defaults%20then%20by%20mixin%20defaults.%20will" class="pilcrow">&#182;</a>
    will be supported by passed in defaults then by mixin defaults. Will
  </h1>
</div>



<div class="pilwrap" id="invoke%20mixinitialize%20and%20empty%20mixinitialize%20method%20after%20invocation.">
  <h1>
    <a href="#invoke%20mixinitialize%20and%20empty%20mixinitialize%20method%20after%20invocation." name="invoke%20mixinitialize%20and%20empty%20mixinitialize%20method%20after%20invocation." class="pilcrow">&#182;</a>
    invoke mixinitialize and empty mixinitialize method after invocation.
  </h1>
</div>


applyMixin: (instance, mixinName) ->
{definition, options} = @mixins[mixinName]
throw new TypeError """
Factory#applyMixin Mixin #{mixinName} not defined
""" unless definition

unless instance.<strong><em>_mixed
late_mix = true # we are in a late mix, use transient loop protection
ignore_tags = true # ignore tags
instance.</em>_</strong>mixed = []

return if mixinName in instance.<em>_</em>_mixed

if options.tags and not ignore_tags
instance.<strong><em>_tags or= []
instance.</em><em></strong>tags = instance.</em>___tags.concat options.tags

_.extend instance, _.omit definition, [
'mixinOptions', 'mixinitialize', 'mixconfig'
]

if late_mix</span>
    </div>
    <div class="dox_tag_title">mixinitialize</div>
    <div class="dox_tag_detail">
      <span>instance, mixinName
delete instance.<strong><em>_mixed
else instance.</em>_</strong>mixed.push mixinName

return instance


<div class="pilwrap" id="mixinitialize">
  <h1>
    <a href="#mixinitialize" name="mixinitialize" class="pilcrow">&#182;</a>
    Mixinitialize
  </h1>
</div>



<div class="pilwrap" id="-------------">
  <h1>
    <a href="#-------------" name="-------------" class="pilcrow">&#182;</a>
    -------------
  </h1>
</div>



<div class="pilwrap" id="invoke%20the%20mixin's%20mixinitialize%20method%20on%20the%20instance%2C%20if%20it%20exists.">
  <h1>
    <a href="#invoke%20the%20mixin's%20mixinitialize%20method%20on%20the%20instance%2C%20if%20it%20exists." name="invoke%20the%20mixin's%20mixinitialize%20method%20on%20the%20instance%2C%20if%20it%20exists." class="pilcrow">&#182;</a>
    Invoke the mixin's mixinitialize method on the instance, if it exists.
  </h1>
</div>



<div class="pilwrap" id="this%20is%20done%20after%20the%20mixin's%20options%20are%20composed%20and%20its%20methods">
  <h1>
    <a href="#this%20is%20done%20after%20the%20mixin's%20options%20are%20composed%20and%20its%20methods" name="this%20is%20done%20after%20the%20mixin's%20options%20are%20composed%20and%20its%20methods" class="pilcrow">&#182;</a>
    This is done after the mixin's options are composed and its methods
  </h1>
</div>



<div class="pilwrap" id="applied%20so%20that%20the%20instance%20is%20fully%20composed.">
  <h1>
    <a href="#applied%20so%20that%20the%20instance%20is%20fully%20composed." name="applied%20so%20that%20the%20instance%20is%20fully%20composed." class="pilcrow">&#182;</a>
    applied so that the instance is fully composed.
  </h1>
</div>


mixinitialize: (instance, mixinName) ->
{definition} = @mixins[mixinName]
mixinitialize = definition.mixinitialize
mixinitialize.call instance if _.isFunction mixinitialize


<div class="pilwrap" id="handle%20mixins">
  <h1>
    <a href="#handle%20mixins" name="handle%20mixins" class="pilcrow">&#182;</a>
    Handle Mixins
  </h1>
</div>



<div class="pilwrap" id="-------------_1">
  <h1>
    <a href="#-------------_1" name="-------------_1" class="pilcrow">&#182;</a>
    -------------
  </h1>
</div>



<div class="pilwrap" id="gets%20called%20when%20an%20object%20is%20created%20to%20mixin%20anything%20you%20said">
  <h1>
    <a href="#gets%20called%20when%20an%20object%20is%20created%20to%20mixin%20anything%20you%20said" name="gets%20called%20when%20an%20object%20is%20created%20to%20mixin%20anything%20you%20said" class="pilcrow">&#182;</a>
    Gets called when an object is created to mixin anything you said
  </h1>
</div>



<div class="pilwrap" id="to%20include%20in%20the%20definition.%20if%20the%20mixin%20defines%20a%20mixinitialize">
  <h1>
    <a href="#to%20include%20in%20the%20definition.%20if%20the%20mixin%20defines%20a%20mixinitialize" name="to%20include%20in%20the%20definition.%20if%20the%20mixin%20defines%20a%20mixinitialize" class="pilcrow">&#182;</a>
    to include in the definition. If the mixin defines a mixinitialize
  </h1>
</div>



<div class="pilwrap" id="method%20it%20will%20get%20called%20after%20initialize%20and%20before%20constructed.">
  <h1>
    <a href="#method%20it%20will%20get%20called%20after%20initialize%20and%20before%20constructed." name="method%20it%20will%20get%20called%20after%20initialize%20and%20before%20constructed." class="pilcrow">&#182;</a>
    method it will get called after initialize and before constructed.
  </h1>
</div>


handleMixins: (instance, mixins, args) ->
instance.<em>_</em>_mixed = []


<div class="pilwrap" id="clone%20the%20instance's%20mixinoptions%20to%20avoid%20overwriting%20the%20defaults">
  <h1>
    <a href="#clone%20the%20instance's%20mixinoptions%20to%20avoid%20overwriting%20the%20defaults" name="clone%20the%20instance's%20mixinoptions%20to%20avoid%20overwriting%20the%20defaults" class="pilcrow">&#182;</a>
    clone the instance's mixinOptions to avoid overwriting the defaults
  </h1>
</div>


instance.mixinOptions = _.extend {}, instance.mixinOptions

allMixins = [].concat mixins, instance.<strong>mixins()
resolvedMixins = @composeMixinDependencies allMixins
instance.</strong>mixins = -> resolvedMixins


<div class="pilwrap" id="iterate%20over%20all%20of%20our%20resolved%20mixins%2C%20applying%20their%20implementation">
  <h1>
    <a href="#iterate%20over%20all%20of%20our%20resolved%20mixins%2C%20applying%20their%20implementation" name="iterate%20over%20all%20of%20our%20resolved%20mixins%2C%20applying%20their%20implementation" class="pilcrow">&#182;</a>
    Iterate over all of our resolved mixins, applying their implementation
  </h1>
</div>



<div class="pilwrap" id="to%20the%20current%20instance.">
  <h1>
    <a href="#to%20the%20current%20instance." name="to%20the%20current%20instance." class="pilcrow">&#182;</a>
    to the current instance.
  </h1>
</div>


for mixinName in resolvedMixins</span>
    </div>
    <div class="dox_tag_title">applyMixin</div>
    <div class="dox_tag_detail">
      <span>instance, mixinName


<div class="pilwrap" id="because%20it%20considers%20instance.mixinoptions%20to%20be%20canonical">
  <h1>
    <a href="#because%20it%20considers%20instance.mixinoptions%20to%20be%20canonical" name="because%20it%20considers%20instance.mixinoptions%20to%20be%20canonical" class="pilcrow">&#182;</a>
    Because it considers instance.mixinOptions to be canonical
  </h1>
</div>



<div class="pilwrap" id="this%20needs%20to%20execute%20in%20reverse%20order%20so%20higher%20level%20mixins">
  <h1>
    <a href="#this%20needs%20to%20execute%20in%20reverse%20order%20so%20higher%20level%20mixins" name="this%20needs%20to%20execute%20in%20reverse%20order%20so%20higher%20level%20mixins" class="pilcrow">&#182;</a>
    this needs to execute in reverse order so higher level mixins
  </h1>
</div>



<div class="pilwrap" id="take%20configuration%20precedence.">
  <h1>
    <a href="#take%20configuration%20precedence." name="take%20configuration%20precedence." class="pilcrow">&#182;</a>
    take configuration precedence.
  </h1>
</div>


for mixinName in resolvedMixins.slice().reverse()
{definition} = @mixins[mixinName]
mixinDefaults = definition.mixinOptions
mixinOptions = instance.mixinOptions
extendMixinOptions mixinOptions, mixinDefaults


<div class="pilwrap" id="complete%20the%20composition%20of%20the%20mixinoptions%20object%20by">
  <h1>
    <a href="#complete%20the%20composition%20of%20the%20mixinoptions%20object%20by" name="complete%20the%20composition%20of%20the%20mixinoptions%20object%20by" class="pilcrow">&#182;</a>
    Complete the composition of the mixinOptions object by
  </h1>
</div>



<div class="pilwrap" id="extending%20a%20bare%20object%20with%20mixindefaults.">
  <h1>
    <a href="#extending%20a%20bare%20object%20with%20mixindefaults." name="extending%20a%20bare%20object%20with%20mixindefaults." class="pilcrow">&#182;</a>
    extending a bare object with mixinDefaults.
  </h1>
</div>


instance.mixinOptions = _.extend {}, mixinDefaults, mixinOptions


<div class="pilwrap" id="invoke%20the%20mixin's%20mixconfig%20method%20if%20available%2C%20passing%20through">
  <h1>
    <a href="#invoke%20the%20mixin's%20mixconfig%20method%20if%20available%2C%20passing%20through" name="invoke%20the%20mixin's%20mixconfig%20method%20if%20available%2C%20passing%20through" class="pilcrow">&#182;</a>
    Invoke the mixin's mixconfig method if available, passing through
  </h1>
</div>



<div class="pilwrap" id="the%20mixinoptions%20object%20so%20that%20it%20can%20be%20modified%20by%20reference.">
  <h1>
    <a href="#the%20mixinoptions%20object%20so%20that%20it%20can%20be%20modified%20by%20reference." name="the%20mixinoptions%20object%20so%20that%20it%20can%20be%20modified%20by%20reference." class="pilcrow">&#182;</a>
    the mixinOptions object so that it can be modified by reference.
  </h1>
</div>


for mixinName in resolvedMixins
{definition} = @mixins[mixinName]
mixinOptions = instance.mixinOptions
definition.mixconfig? mixinOptions, args...


<div class="pilwrap" id="finally%2C%20ensure%20the%20mixin(s)%20get%20initialized">
  <h1>
    <a href="#finally%2C%20ensure%20the%20mixin(s)%20get%20initialized" name="finally%2C%20ensure%20the%20mixin(s)%20get%20initialized" class="pilcrow">&#182;</a>
    Finally, ensure the mixin(s) get initialized
  </h1>
</div>


for mixinName in resolvedMixins</span>
    </div>
    <div class="dox_tag_title">mixinitialize</div>
    <div class="dox_tag_detail">
      <span>instance, mixinName

instance.__mixin = _.chain((obj, mixin, mixinOptions) -></span>
    </div>
    <div class="dox_tag_title">handleMixins</div>
    <div class="dox_tag_detail">
      <span>obj, [mixin], mixinOptions
delete obj.<em>_</em>_mixed
).bind(this).partial(instance).value()

delete instance.<em>_</em>_mixed


<div class="pilwrap" id="handle%20injections">
  <h1>
    <a href="#handle%20injections" name="handle%20injections" class="pilcrow">&#182;</a>
    Handle Injections
  </h1>
</div>



<div class="pilwrap" id="-----------------">
  <h1>
    <a href="#-----------------" name="-----------------" class="pilcrow">&#182;</a>
    -----------------
  </h1>
</div>



<div class="pilwrap" id="gets%20called%20then%20an%20object%20is%20created%20to%20add%20anything%20you%20said">
  <h1>
    <a href="#gets%20called%20then%20an%20object%20is%20created%20to%20add%20anything%20you%20said" name="gets%20called%20then%20an%20object%20is%20created%20to%20add%20anything%20you%20said" class="pilcrow">&#182;</a>
    Gets called then an object is created to add anything you said
  </h1>
</div>



<div class="pilwrap" id="to%20include%20in%20the%20definition.">
  <h1>
    <a href="#to%20include%20in%20the%20definition." name="to%20include%20in%20the%20definition." class="pilcrow">&#182;</a>
    to include in the definition.
  </h1>
</div>


handleInjections: (instance, injections) ->
instance[name] = @get(type) for name, type of injections


<div class="pilwrap" id="handle%20create">
  <h1>
    <a href="#handle%20create" name="handle%20create" class="pilcrow">&#182;</a>
    Handle Create
  </h1>
</div>



<div class="pilwrap" id="-------------_2">
  <h1>
    <a href="#-------------_2" name="-------------_2" class="pilcrow">&#182;</a>
    -------------
  </h1>
</div>



<div class="pilwrap" id="gets%20called%20when%20an%20object%20is%20created%20to%20handle%20any%20events%20based">
  <h1>
    <a href="#gets%20called%20when%20an%20object%20is%20created%20to%20handle%20any%20events%20based" name="gets%20called%20when%20an%20object%20is%20created%20to%20handle%20any%20events%20based" class="pilcrow">&#182;</a>
    Gets called when an object is created to handle any events based
  </h1>
</div>



<div class="pilwrap" id="on%20tags.%20this%20is%20the%20engine%20for%20doing%20aop%20style%20dependency%20injection.">
  <h1>
    <a href="#on%20tags.%20this%20is%20the%20engine%20for%20doing%20aop%20style%20dependency%20injection." name="on%20tags.%20this%20is%20the%20engine%20for%20doing%20aop%20style%20dependency%20injection." class="pilcrow">&#182;</a>
    on tags. This is the engine for doing AOP style Dependency Injection.
  </h1>
</div>


handleCreate: (instance) ->
for tag in instance.__tags()</span>
    </div>
    <div class="dox_tag_title">tagCbs[tag]</div>
    <div class="dox_tag_detail">
      <span>= [] unless @tagCbs[tag]?
cbs = @tagCbs[tag]
continue if cbs.length is 0
for cb in cbs
cb instance if _.isFunction(cb)
true


<div class="pilwrap" id="handle%20tags">
  <h1>
    <a href="#handle%20tags" name="handle%20tags" class="pilcrow">&#182;</a>
    Handle Tags
  </h1>
</div>



<div class="pilwrap" id="-----------_2">
  <h1>
    <a href="#-----------_2" name="-----------_2" class="pilcrow">&#182;</a>
    -----------
  </h1>
</div>



<div class="pilwrap" id="gets%20called%20when%20an%20object%20is%20created%20to%20wire%20the%20instance%20up%20with">
  <h1>
    <a href="#gets%20called%20when%20an%20object%20is%20created%20to%20wire%20the%20instance%20up%20with" name="gets%20called%20when%20an%20object%20is%20created%20to%20wire%20the%20instance%20up%20with" class="pilcrow">&#182;</a>
    Gets called when an object is created to wire the instance up with
  </h1>
</div>



<div class="pilwrap" id="all%20of%20it's%20tags.%20any%20type%20that%20the%20object%20inherits%20from%2C%20any%20of%20those">
  <h1>
    <a href="#all%20of%20it's%20tags.%20any%20type%20that%20the%20object%20inherits%20from%2C%20any%20of%20those" name="all%20of%20it's%20tags.%20any%20type%20that%20the%20object%20inherits%20from%2C%20any%20of%20those" class="pilcrow">&#182;</a>
    all of it's tags. Any type that the object inherits from, any of those
  </h1>
</div>



<div class="pilwrap" id="types%20tags%20and%20any%20user%20defined%20tags%20are%20put%20into%20this%20list%20for%20use.">
  <h1>
    <a href="#types%20tags%20and%20any%20user%20defined%20tags%20are%20put%20into%20this%20list%20for%20use." name="types%20tags%20and%20any%20user%20defined%20tags%20are%20put%20into%20this%20list%20for%20use." class="pilcrow">&#182;</a>
    types tags and any user defined tags are put into this list for use.
  </h1>
</div>


handleTags: (name, instance, tags) -></span>
    </div>
    <div class="dox_tag_title">instances[name].push</div>
    <div class="dox_tag_detail">
      <span>instance
delete instance.<strong>__tags
factoryMap = [@instances[name]]
for tag in instance.</strong>tags()</span>
    </div>
    <div class="dox_tag_title">tagMap[tag]</div>
    <div class="dox_tag_detail">
      <span>= [] unless @tagMap[tag]?</span>
    </div>
    <div class="dox_tag_title">tagMap[tag].push</div>
    <div class="dox_tag_detail">
      <span>instance
factoryMap.push @tagMap[tag]
factoryMap = <em>.uniq(factoryMap)
instance.</em>_factoryMap = -> [].slice.call factoryMap


<div class="pilwrap" id="get">
  <h1>
    <a href="#get" name="get" class="pilcrow">&#182;</a>
    Get
  </h1>
</div>



<div class="pilwrap" id="---">
  <h1>
    <a href="#---" name="---" class="pilcrow">&#182;</a>
    ---
  </h1>
</div>



<div class="pilwrap" id="call%20this%20with%20the%20name%20of%20the%20object%20type%20you%20want%20to%20get.%20you%20will">
  <h1>
    <a href="#call%20this%20with%20the%20name%20of%20the%20object%20type%20you%20want%20to%20get.%20you%20will" name="call%20this%20with%20the%20name%20of%20the%20object%20type%20you%20want%20to%20get.%20you%20will" class="pilcrow">&#182;</a>
    Call this with the name of the object type you want to get. You will
  </h1>
</div>



<div class="pilwrap" id="definitely%20get%20that%20kind%20of%20object%20back.%20this%20is%20a%20pretty%20big%20function">
  <h1>
    <a href="#definitely%20get%20that%20kind%20of%20object%20back.%20this%20is%20a%20pretty%20big%20function" name="definitely%20get%20that%20kind%20of%20object%20back.%20this%20is%20a%20pretty%20big%20function" class="pilcrow">&#182;</a>
    definitely get that kind of object back. This is a pretty big function
  </h1>
</div>



<div class="pilwrap" id="but%20it's%20just%20generally%20making%20decisions%20about%20the%20options%20you%20defined">
  <h1>
    <a href="#but%20it's%20just%20generally%20making%20decisions%20about%20the%20options%20you%20defined" name="but%20it's%20just%20generally%20making%20decisions%20about%20the%20options%20you%20defined" class="pilcrow">&#182;</a>
    but it's just generally making decisions about the options you defined
  </h1>
</div>



<div class="pilwrap" id="earlier.">
  <h1>
    <a href="#earlier." name="earlier." class="pilcrow">&#182;</a>
    earlier.
  </h1>
</div>


get: (name, args...) ->
instances = @instances[name] ?= []
instance = @instances[name][0]
def = @definitions[name]
throw new TypeError """
Factory#get Definition #{name} is not defined.
""" unless def?
constructor = def.constructor

options = def.options or {}
singleton = !!options.singleton
mixins = options.mixins or []
injections = options.injections or []


<div class="pilwrap" id="singleton%20support">
  <h1>
    <a href="#singleton%20support" name="singleton%20support" class="pilcrow">&#182;</a>
    singleton support
  </h1>
</div>


return instance if singleton and instance


<div class="pilwrap" id="arbitrary%20arguments%20length%20on%20the%20constructor">
  <h1>
    <a href="#arbitrary%20arguments%20length%20on%20the%20constructor" name="arbitrary%20arguments%20length%20on%20the%20constructor" class="pilcrow">&#182;</a>
    arbitrary arguments length on the constructor
  </h1>
</div>


instance = new constructor args...


<div class="pilwrap" id="set%20the%20type%2Ftags%2Fmixins%20immediately">
  <h1>
    <a href="#set%20the%20type%2Ftags%2Fmixins%20immediately" name="set%20the%20type%2Ftags%2Fmixins%20immediately" class="pilcrow">&#182;</a>
    Set the type/tags/mixins immediately
  </h1>
</div>


instance.<strong>type   = -> name
instance.</strong>mixins = => @composeMixinDependencies mixins
instance.__tags   = => @getTags instance


<div class="pilwrap" id="set%20the%20constructor%20of%20the%20instance%20to%20one%20that's%20factory%20wrapped">
  <h1>
    <a href="#set%20the%20constructor%20of%20the%20instance%20to%20one%20that's%20factory%20wrapped" name="set%20the%20constructor%20of%20the%20instance%20to%20one%20that's%20factory%20wrapped" class="pilcrow">&#182;</a>
    Set the constructor of the instance to one that's factory wrapped
  </h1>
</div>


instance.constructor = @getConstructor name


<div class="pilwrap" id="mixin%20support">
  <h1>
    <a href="#mixin%20support" name="mixin%20support" class="pilcrow">&#182;</a>
    mixin support
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">handleMixins</div>
    <div class="dox_tag_detail">
      <span>instance, mixins, args


<div class="pilwrap" id="injection%20support">
  <h1>
    <a href="#injection%20support" name="injection%20support" class="pilcrow">&#182;</a>
    injection support
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">handleInjections</div>
    <div class="dox_tag_detail">
      <span>instance, injections


<div class="pilwrap" id="tag%20support_1">
  <h1>
    <a href="#tag%20support_1" name="tag%20support_1" class="pilcrow">&#182;</a>
    tag support
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">handleTags</div>
    <div class="dox_tag_detail">
      <span>name, instance, def.tags


<div class="pilwrap" id="late%20initialization%20support">
  <h1>
    <a href="#late%20initialization%20support" name="late%20initialization%20support" class="pilcrow">&#182;</a>
    late initialization support
  </h1>
</div>


instance.constructed args... if _.isFunction instance.constructed


<div class="pilwrap" id="we%20shortcut%20the%20dispose%20functionality%20so%20we%20can%20wire%20it%20into%20other">
  <h1>
    <a href="#we%20shortcut%20the%20dispose%20functionality%20so%20we%20can%20wire%20it%20into%20other" name="we%20shortcut%20the%20dispose%20functionality%20so%20we%20can%20wire%20it%20into%20other" class="pilcrow">&#182;</a>
    we shortcut the dispose functionality so we can wire it into other
  </h1>
</div>



<div class="pilwrap" id="frameworks%20and%20stuff%20easily">
  <h1>
    <a href="#frameworks%20and%20stuff%20easily" name="frameworks%20and%20stuff%20easily" class="pilcrow">&#182;</a>
    frameworks and stuff easily
  </h1>
</div>


instance.__dispose = ((factory) ->
return -> factory.dispose this
)(this)


<div class="pilwrap" id="we%20trigger%20a%20create%20event%20on%20the%20factory%20so%20we%20can%20handle%20tag%20listeners">
  <h1>
    <a href="#we%20trigger%20a%20create%20event%20on%20the%20factory%20so%20we%20can%20handle%20tag%20listeners" name="we%20trigger%20a%20create%20event%20on%20the%20factory%20so%20we%20can%20handle%20tag%20listeners" class="pilcrow">&#182;</a>
    we trigger a create event on the factory so we can handle tag listeners
  </h1>
</div>



<div class="pilwrap" id="but%20the%20user%20can%20use%20this%20for%20other%20purposes%20as%20well.">
  <h1>
    <a href="#but%20the%20user%20can%20use%20this%20for%20other%20purposes%20as%20well." name="but%20the%20user%20can%20use%20this%20for%20other%20purposes%20as%20well." class="pilcrow">&#182;</a>
    but the user can use this for other purposes as well.
  </h1>
</div>
</span>
    </div>
    <div class="dox_tag_title">trigger</div>
    <div class="dox_tag_detail">
      <span>'create', instance

return instance


<div class="pilwrap" id="resolve%20instance">
  <h3>
    <a href="#resolve%20instance" name="resolve%20instance" class="pilcrow">&#182;</a>
    Resolve Instance
  </h3>
</div>



<div class="pilwrap" id="provide%20a%20method%20for%20resolving%20an%20instance%20via%20a%20callback%20or">
  <h1>
    <a href="#provide%20a%20method%20for%20resolving%20an%20instance%20via%20a%20callback%20or" name="provide%20a%20method%20for%20resolving%20an%20instance%20via%20a%20callback%20or" class="pilcrow">&#182;</a>
    Provide a method for resolving an instance via a callback or
  </h1>
</div>



<div class="pilwrap" id="by%20resolving%20an%20instance%20in%20the%20factory.">
  <h1>
    <a href="#by%20resolving%20an%20instance%20in%20the%20factory." name="by%20resolving%20an%20instance%20in%20the%20factory." class="pilcrow">&#182;</a>
    by resolving an instance in the factory.
  </h1>
</div>
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

    <span class="nv">resolveInstance: </span><span class="nf">(thing, args...) -&gt;</span>
      <span class="nv">thing = </span><span class="nx">thing</span><span class="p">.</span><span class="nx">call</span> <span class="k">this</span><span class="p">,</span> <span class="nx">args</span><span class="p">...</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span> <span class="nx">thing</span>
      <span class="k">return</span> <span class="nx">@get</span> <span class="nx">thing</span><span class="p">,</span> <span class="nx">args</span><span class="p">...</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">thing</span>
      <span class="k">return</span> <span class="nx">thing</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="get%20tags">
  <h2>
    <a href="#get%20tags" name="get%20tags" class="pilcrow">&#182;</a>
    Get Tags
  </h2>
</div>


<p>Get all tags for an arbitrary factory instance.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
